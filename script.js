// --- 1. × ×ª×•× ×™ ×”××©×¤×˜×™× ---
const SENTENCES = {
    "×§×‘×•×¦×” 1 â€“ ×‘×¡×™×¡×™×ª ×××•×“ (×¤×ª×— ×•×§××¥)": [
        "×Ö¸×‘Ö¼Ö¸× ×Ö¸×›Ö·×œ ×œÖ¶×—Ö¶×.", "×Ö´×Ö¼Ö¸× ×Ö¸×¤Ö°×ªÖ¸×” ×¢×•Ö¼×’Ö¸×”.", "×“Ö¼Ö¸×’ ×©×‚Ö¸×—Ö¸×” ×‘Ö¼Ö·×™Ö¼Ö¸×.",
        "×¨Ö¸×Ÿ ×™Ö¸×©×Ö·×‘ ×¢Ö·×œ ×›Ö¼Ö´×¡Ö¼Öµ×.", "×Ö´×Ö¼Ö¸× ×§Ö¸×¨Ö°×Ö¸×” ×¡Öµ×¤Ö¶×¨.", "×“Ö¼Ö¸× Ö´×™ ×¨Ö¸×¥ ×‘Ö¼Ö·×’Ö¼Ö·×Ÿ.",
        "×Ö²× Ö´×™ ×Ö¸×›Ö·×œÖ°×ªÖ¼Ö´×™ ×¤Ö¼Ö·×ª.", "×Ö¸×‘Ö¼Ö¸× ×Ö¸×›Ö·×œ ×ªÖ¼Ö·×¤Ö¼×•Ö¼×—Ö·.", "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×¨Ö¸×¥ ×‘Ö¼Ö·×—Ö¸×¦Öµ×¨.",
        "×”Ö·×™Ö¼Ö¶×œÖ¶×“ ×¨Ö¸×Ö¸×” ××•Ö¹×¨.", "×™Ö¸×“ ×¢Ö·×œ ×©×Ö»×œÖ°×—Ö¸×Ÿ.", "×¡Öµ×¤Ö¶×¨ ×¢Ö·×œ ×Ö´×˜Ö¼Ö¸×”.",
        "×”Ö·×›Ö¼Ö·×“ ×¢Ö·×œ ×”Ö·×©Ö¼×Ö»×œÖ°×—Ö¸×Ÿ.", "×¨×•Ö¼×ª ×Ö¸×›Ö°×œÖ¸×” ×¢×•Ö¼×’Ö´×™Ö¼Ö¸×”.", "×”Ö·×“Ö¼Ö¸×’ ×‘Ö¼Ö·×Ö¼Ö·×™Ö´×.",
        "×”Ö·×™Ö¼Ö¶×œÖ¶×“ ×‘Ö¼Ö·×’Ö¼Ö¸×Ÿ.", "×Ö¸×Ö´×™×¨ ×Ö¸×›Ö·×œ ×¤Ö¼Ö¶×œÖ·×—.", "×™Ö¸×“Ö´×™ ×¢Ö·×œ ×›Ö¼Ö·×“.",
        "×”Ö·×—Ö¸×ª×•Ö¼×œ ×¢Ö·×œ ×”Ö·×¡Ö¼Ö·×£.", "×Ö´×Ö¼Ö¸× ×©×Ö¸×ªÖ°×ªÖ¸×” ×Ö·×™Ö´×.", "×Ö¸×‘Ö¼Ö¸× ×¨Ö¸×Ö¸×” ××•Ö¹×¨ ×’Ö¼Ö¸×“×•Ö¹×œ.",
        "×¨Ö¸×Ÿ ×Ö¸×›Ö·×œ ×‘Ö¼Ö¸× Ö¸× Ö¸×”.", "×“Ö¼Ö¸× Ö¸×” ×Ö¸×›Ö°×œÖ¸×” ×¢×•Ö¼×’Ö¸×”.", "×™Ö¸×¢Öµ×œ ×¨Ö¸×Ö¸×” ×›Ö¼Ö¶×œÖ¶×‘.",
        "×Ö´×Ö¼Ö¸× ×§Ö¸× Ö°×ªÖ¸×” ×—Ö¸×œÖ¸×”.", "×”Ö·×“Ö¼Ö¶×’Ö¶×œ ×¢Ö·×œ ×”Ö·×Ö¼Ö·×˜Ö¼Ö¶×”.", "×“Ö¼Ö¸× Ö¸×” ×©×Ö¸×—Ö²×§Ö¸×” ×‘Ö¼Ö·×›Ö¼Ö·×“.",
        "×Ö¸×‘Ö¼Ö¸× ×™Ö¸×©×Ö·×‘ ×¢Ö·×œ ×›Ö¼Ö´×¡Ö¼Öµ×.", "×”Ö·×©Ö¼×Ö¶×Ö¶×©× ×–Ö¸×¨Ö°×—Ö¸×” ×‘Ö¼Ö·×©Ö¼×Ö¸×Ö·×™Ö´×.", "×”Ö·×“Ö¼Ö¶×’Ö¶×œ ×™Ö¸×¤Ö¶×” ×Ö°××•Ö¹×“."
    ],
    "×§×‘×•×¦×” 2 â€“ ×§×œ×” (×¡×’×•×œ, ×¦×¨×”)": [
        "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×™Ö¸×©×Öµ×Ÿ ×¢Ö·×œ ×”Ö·×Ö¼Ö´×˜Ö¼Ö¸×”.", "×™Ö¸×¢Öµ×œ ×§Ö¸×¨Ö°×Ö¸×” ×¡Öµ×¤Ö¶×¨ ×™Ö¸×¤Ö¶×”.", "×“Ö¼Ö¸× Ö´×™ ×Ö¸×›Ö·×œ ×ªÖ¼Ö·×¤Ö¼×•Ö¼×– ×˜Ö¸×¢Ö´×™×.",
        "×¨Ö¸×Ÿ ×Öµ× Ö´×™×£ ×“Ö¼Ö¶×’Ö¶×œ ×™Ö´×©×‚Ö°×¨Ö¸×Öµ×œ.", "×”Ö·×“Ö¼Ö¸×’ ×©×‚Ö¸×—Ö¸×” ×‘Ö¼Ö·×Ö¼Ö·×™Ö´×.", "×”Ö·×—Ö¸×ª×•Ö¼×œ ×§Ö¸×¤Ö·×¥ ×¢Ö·×œ ×”Ö·×›Ö¼Ö´×¡Ö¼Öµ×.",
        "×Ö´×Ö¼Ö¸× ×©×Ö¸×ªÖ°×ªÖ¸×” ×Öµ×™ ×¤Ö¼Ö¶×¨Ö·×—.", "×”Ö·×™Ö¼Ö¶×œÖ¶×“ × Ö¸×ªÖ·×Ÿ ×œÖ¶×—Ö¶× ×œÖ·×›Ö¼Ö¶×œÖ¶×‘.", "×”Ö·×©Ö¼×Ö¶×Ö¶×©× ×–×•Ö¹×¨Ö·×—Ö·×ª ×‘Ö¼Ö·×©Ö¼×Ö¸×Ö·×™Ö´×.",
        "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ ×¢Ö¸×¤Ö¸×” ×œÖ·×¢Öµ×¥.", "×”Ö·×¡Ö¼Öµ×¤Ö¶×¨ × ×•Ö¹×¤Öµ×œ ×Öµ×”Ö·×©Ö¼×Ö»×œÖ°×—Ö¸×Ÿ.", "×“Ö¼Ö¸× Ö¸×” ×¨Ö¸×§Ö°×“Ö¸×” ×‘Ö¼Ö·×’Ö¼Ö¸×Ÿ.",
        "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×Ö¸×›Ö·×œ ×¢×•Ö¼×’Ö¸×” ×§Ö°×˜Ö·× Ö¼Ö¸×”.", "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×¨Ö¸×¥ ×Ö·×—Ö²×¨Öµ×™ ×”Ö·×—Ö¸×ª×•Ö¼×œ.", "×”Ö·×ªÖ¼Ö·×¤Ö¼×•Ö¼×—Ö· × Ö¸×¤Ö·×œ ×¢Ö·×œ ×”Ö¸×Ö²×“Ö¸×Ö¸×”.",
        "×™Ö¸×¢Öµ×œ ×§Ö¸×¨Ö°×Ö¸×” ×¡Öµ×¤Ö¶×¨ ×’Ö¼Ö¸×“×•Ö¹×œ.", "×“Ö¼Ö¸× Ö´×™ ×›Ö¼Ö¸×ªÖ·×‘ ×¢Ö´× ×¢Öµ×˜.", "×”Ö·×“Ö¼Ö¸×’ ×©×‚Ö¸×—Ö¸×” ×‘Ö¼Ö·×Ö¼Ö·×™Ö´×.",
        "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ ×©×Ö¸×¨Ö¸×” ×‘Ö¼Ö·×‘Ö¼Ö¹×§Ö¶×¨.", "×Ö¸×‘Ö¼Ö¸× × Ö¸×ªÖ·×Ÿ ×¤Ö¼Ö¶×¨Ö·×— ×œÖ°×Ö´×Ö¼Ö¸×.", "×¨×•Ö¼×ª ×Ö¸×›Ö°×œÖ¸×” ×’Ö¼Ö¶×–Ö¶×¨.",
        "×”Ö·×™Ö¼Ö¶×œÖ¶×“ ×¦Ö¸×‘Ö·×¢ ×›Ö¼Ö·×“ ×Ö¸×“Ö¹×.", "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×™Ö¸×©×Ö·×‘ ×¢Ö·×œ ×”Ö·×©Ö¼×Ö·×˜Ö¼Ö´×™×—Ö·.", "×™Ö¸×¢Öµ×œ ×¨Ö¸×Ö¸×” ×“Ö¼Ö¸×’ ×’Ö¼Ö¸×“×•Ö¹×œ.",
        "×”Ö·×ªÖ¼Ö·×¤Ö¼×•Ö¼×– ×¢Ö¸×’Ö¹×œ ×•Ö°×™Ö¸×¤Ö¶×”.", "×“Ö¼Ö¸× Ö¸×” ×§Ö¸×¤Ö°×¦Ö¸×” ×‘Ö¼Ö·×—×•Ö¼×¥.", "×¨Ö¸×Ÿ ×©×‚Ö´×™×—Öµ×§ ×¢Ö´× ×›Ö¼Ö·×“.",
        "×”Ö·×“Ö¼Ö¶×’Ö¶×œ ×¢Ö¸×œÖ¸×” ×¢Ö·×œ ×”Ö·×Ö¼Ö·×˜Ö¼Ö¶×”.", "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×§Ö¸×¤Ö·×¥ ×‘Ö¼Ö·×’Ö¼Ö¸×Ÿ.", "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ ×¢Ö¸×¤Ö¸×” ×‘Ö¼Ö·×©Ö¼×Ö¸×Ö·×™Ö´×."
    ],
    "×§×‘×•×¦×” 3 â€“ ×‘×™× ×•× ×™×ª (×—×•×œ×, ×©×•×¨×•×§, ×§×•×‘×•×¥)": [
        "×”Ö·×“Ö¼×•Ö¼×‘ × Ö´×¨Ö°×“Ö¼Ö·× ×‘Ö¼Ö·×™Ö¼Ö·×¢Ö·×¨.", "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ ×¢Ö¸×¤Ö¸×” ×Öµ×¢Ö·×œ ×”Ö¸×¢Öµ×¥.", "×™Ö¸×¢Öµ×œ ×©×Ö¸×ªÖ°×ªÖ¸×” ×Ö·×™Ö´×.",
        "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×©×Ö¸×›Ö·×‘ ×‘Ö¼Ö·×—×•Ö¼×¥.", "×Ö¸×‘Ö¼Ö¸× ×§Ö¸× Ö¸×” ×¤Ö¼Ö°×¨Ö´×™ ×‘Ö¼Ö·×©Ö¼××•Ö¼×§.", "×¨×•Ö¼×ª ×¨Ö¸×Ö¸×” ×¡Öµ×¤Ö¶×¨ ×—Ö¸×“Ö¸×©×.",
        "×”Ö·×©Ö¼×Ö¶×Ö¶×©× ×–×•Ö¹×¨Ö·×—Ö·×ª ×‘Ö¼Ö·×‘Ö¼Ö¹×§Ö¶×¨.", "×“Ö¼Ö¸× Ö¸×” ×§Ö¸×¤Ö°×¦Ö¸×” ×¢Ö·×œ ×”Ö·×Ö¼Ö´×˜Ö¼Ö¸×”.", "×”Ö·×ªÖ¼Ö·×œÖ°×Ö´×™×“ ×›Ö¼Ö¸×ªÖ·×‘ ×Ö´×›Ö°×ªÖ¼Ö¸×‘.",
        "×”Ö·×¡Ö¼Öµ×¤Ö¶×¨ ×¢Ö¸×Ö·×“ ×¢Ö·×œ ×”Ö·×©Ö¼×Ö»×œÖ°×—Ö¸×Ÿ.", "×“Ö¼Ö¸× Ö´×™ × Ö¸×ªÖ·×Ÿ ×¤Ö¼Ö¶×¨Ö·×— ×œÖ°×Ö´×Ö¼×•Ö¹.", "×™Ö¸×¢Öµ×œ ×œÖ¸×Ö°×“Ö¸×” ×¢Ö´×‘Ö°×¨Ö´×™×ª.",
        "×¨Ö¸×Ÿ × Ö´×©×Ö°×›Ö¼Ö·×‘ ×¢Ö·×œ ×”Ö·×Ö¼Ö´×˜Ö¼Ö¸×”.", "×”Ö·×“Ö¼Ö¸×’ ×©×‚Ö¸×—Ö¸×” ×‘Ö¼Ö·×‘Ö¼Ö¸×¨Öµ×›Ö¸×”.", "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ ×¢Ö¸×¤Ö¸×” ×‘Ö¼Ö·×©Ö¼×Ö¸×Ö·×™Ö´×.",
        "×“Ö¼Ö¸× Ö´×™ ×©×Ö¸×ªÖ¸×” ×›Ö¼×•Ö¹×¡ ×Ö·×™Ö´×.", "×Ö¸×‘Ö¼Ö¸× ×§Ö¸×¨Ö¸× ×¢Ö´×ªÖ¼×•Ö¹×Ÿ.", "×“Ö¼Ö¸× Ö¸×” ×›Ö¼Ö¸×ªÖ°×‘Ö¸×” ×‘Ö¼Ö·×Ö¼Ö·×—Ö°×‘Ö¼Ö¶×¨Ö¶×ª.",
        "×¨×•Ö¼×ª ×©×Ö¸×ªÖ°×ªÖ¸×” ×Öµ×™×¥.", "×”Ö·×ªÖ¼Ö·×œÖ°×Ö´×™×“ ×©×Ö´×—Öµ×§ ×‘Ö¼Ö·×›Ö¼Ö·×“.", "×™Ö¸×¢Öµ×œ ×Ö¸×›Ö°×œÖ¸×” ×ªÖ¼Ö·×¤Ö¼×•Ö¼×–.",
        "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×©×Ö¸×ªÖ¸×” ×Ö·×™Ö´×.", "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ × Ö¸×—Ö¸×” ×¢Ö·×œ ×¢Öµ×¥.", "×¨×•Ö¼×ª ×œÖ¸×‘Ö°×©×Ö¸×” ×©×‚Ö´×Ö°×œÖ¸×”.",
        "×™Ö¸×¢Öµ×œ ×¨Ö¸×§Ö°×“Ö¸×” ×‘Ö¼Ö·×—×•Ö¼×¥.", "×“Ö¼Ö¸× Ö´×™ ×©×‚Ö¸×—Ö¸×” ×‘Ö¼Ö·× Ö¼Ö¸×”Ö¸×¨.", "×¨×•Ö¼×ªÖ´×™ ×—Ö´×‘Ö¼Ö°×§Ö¸×” ×“Ö¼×•Ö¼×‘Ö´×™.",
        "×“Ö¼Ö¸× Ö¸×” ×¨Ö¸×¦Ö¸×” ×‘Ö¼Ö·×—×•Ö¼×¥.", "×œÖ°×™Ö¸×¢Öµ×œ ×™Öµ×©× ×›Ö¼Ö¶×œÖ¶×‘ ×§Ö¸×˜Ö¸×Ÿ.", "×Ö·×™Ö´× ×§Ö¸×¨Ö´×™× ×•Ö¼×Ö°×¨Ö·×¢Ö²× Ö¸× Ö´×™×."
    ],
    "×§×‘×•×¦×” 4 â€“ ×’×‘×•×”×” (×¡×•×£ ×›×™×ª×” ××³)": [
        "×”Ö·×ªÖ¼Ö·×œÖ°×Ö´×™×“ ×›Ö¼Ö¸×ªÖ·×‘ ×Ö´×›Ö°×ªÖ¼Ö¸×‘ ×™Ö¸×¤Ö¶×”.", "×™Ö¸×¢Öµ×œ ×•Ö°×“Ö¸× Ö´×™ ×©×‚Ö´×™×—Ö²×§×•Ö¼ ×‘Ö¼Ö·×—Ö¸×¦Öµ×¨.", "×Ö¸×‘Ö¼Ö¸× ×”Öµ×‘Ö´×™× ×¤Ö¼Ö¶×¨Ö·×— ×œÖ°×Ö´×Ö¼Ö¸×.",
        "×¦Ö´×¤Ö¼×•Ö¹×¨ ×¢Ö¸×¤Ö¸×” ×œÖ·×¢Öµ×¥ ×’Ö¼Ö¸×‘×•Ö¹×”Ö¼Ö·.", "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×”Ö´×‘Ö¼Ö´×™×˜ ×¢Ö·×œ ×”Ö·×“Ö¼Ö¶×’Ö¶×œ.", "×¨Ö¸×Ÿ × Ö¸×ªÖ·×Ÿ ×¤Ö¼Ö¶×¨Ö·×— ×œÖ°×“Ö¸× Ö¸×”.",
        "×™Ö¸×¢Öµ×œ ×¦Ö´×™Ö¼Ö°×™×¨Ö¸×” ×‘Ö¼Ö°×¦Ö¶×‘Ö·×¢ ×Ö¸×“Ö¹×.", "×”Ö·×ªÖ¼Ö·×œÖ°×Ö´×™×“Ö¸×” ×§Ö¸×¨Ö°×Ö¸×” ×¡Öµ×¤Ö¶×¨ ×’Ö¼Ö¸×“×•Ö¹×œ.", "×”Ö·×—Ö¸×ª×•Ö¼×œ ×™Ö¸×©×Ö·×‘ ×¢Ö·×œ ×”Ö·×›Ö¼Ö´×¡Ö¼Öµ×.",
        "×™Öµ×©× ×‘Ö¼Ö·×¡Ö¼Öµ×¤Ö¶×¨ ×Ö´×œÖ¼Ö´×™× ×—Ö²×“Ö¸×©××•Ö¹×ª.", "×¨×•Ö¼×ª ×”Öµ×›Ö´×™× Ö¸×” ×¢×•Ö¼×’Ö¸×”.", "×”Ö·×ªÖ¼Ö´×™× ×•Ö¹×§ ×©×‚Ö´×™×—Öµ×§ ×¢Ö´× ×—Ö¸×ª×•Ö¼×œ.",
        "×™Ö¸×¢Öµ×œ × Ö¸×ªÖ°× Ö¸×” ×¤Ö¼Ö¶×¨Ö·×— ×œÖ°×¨×•Ö¼×ª.", "×”Ö·×©Ö¼×Ö¶×Ö¶×©× ×–×•Ö¹×¨Ö·×—Ö·×ª ×‘Ö¼Ö·×‘Ö¼Ö¹×§Ö¶×¨.", "×“Ö¼Ö¸× Ö´×™ ×”Öµ×‘Ö´×™× ×›Ö¼Ö·×“ ×œÖ°×¨×•Ö¼×ª.",
        "×©×‚Ö¸×¨Ö¸×” ×©×Ö¸×¨Ö¸×” ×©×Ö´×™×¨ ×‘Ö¼Ö·×‘Ö¼Ö¹×§Ö¶×¨.", "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ ×¢Ö¸×¤Ö¸×” ×Öµ×¢Ö·×œ ×”Ö·×™Ö¼Ö¸×.", "×‘Ö¼Ö·×™Ö¼Ö¸× ×™Öµ×©× ×’Ö¼Ö·×œÖ¼Ö´×™×.",
        "×¨×•Ö¼×ª ×Ö¸×¦Ö°×Ö¸×” ×›Ö¼Ö·×£ ×‘Ö¼Ö·×—×•Ö¹×œ.", "×™Ö¸×¢Öµ×œ ×œÖ¸×Ö°×“Ö¸×” ×‘Ö¼Ö·×›Ö¼Ö´×ªÖ¼Ö¸×”.", "×Ö¸×‘Ö¼Ö¸× ×©×‚Ö¸× ×¡Öµ×¤Ö¶×¨ ×¢Ö·×œ ×”Ö·×©Ö¼×Ö»×œÖ°×—Ö¸×Ÿ.",
        "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×©×Ö¸×›Ö·×‘ ×‘Ö¼Ö·×¦Ö¼Öµ×œ.", "×”Ö·×™Ö¼Ö¶×œÖ¶×“ ×›Ö¼Ö¸×ªÖ·×‘ ×‘Ö¼Ö·×Ö¼Ö·×—Ö°×‘Ö¼Ö¶×¨Ö¶×ª.", "×”Ö·×¦Ö¼Ö´×¤Ö¼×•Ö¹×¨ ×©×Ö¸×¨Ö¸×” ×‘Ö¼Ö·×¢Öµ×¥.",
        "×¨×•Ö¼×ª ×”Öµ×‘Ö´×™×˜Ö¸×” ×¢Ö·×œ ×”Ö·×“Ö¼Ö¶×’Ö¶×œ.", "×¦Ö´×¤Ö¼×•Ö¹×¨Ö´×™× ×¢Ö¸×¤×•Ö¹×ª ×‘Ö¼Ö·×©Ö¼×Ö¸×Ö·×™Ö´×.", "×”Ö·×ªÖ¼Ö·×œÖ°×Ö´×™×“ ×”Öµ×¨Ö´×™× ×Ö¶×ª ×”Ö·×›Ö¼Ö·×“.",
        "×”Ö·×›Ö¼Ö¶×œÖ¶×‘ ×©×‚Ö´×™×—Öµ×§ ×‘Ö¼Ö·×—Ö¸×¦Öµ×¨.", "×”Ö·×ªÖ¼Ö·×œÖ°×Ö´×™×“Ö¸×” ×›Ö¼Ö¸×ªÖ°×‘Ö¸×” ×Ö´×œÖ¼Ö¸×” ×—Ö²×“Ö¸×©×Ö¸×”.", "×™Ö¸×¢Öµ×œ ×•Ö°×¨×•Ö¼×ª ×¦Ö¸×—Ö²×§×•Ö¼ ×‘Ö¼Ö·×’Ö¼Ö¸×Ÿ."
    ]
};

// --- 2. ××©×ª× ×™ ××¦×‘ ×•××œ×× ×˜×™× ---
let currentLevelSentences = [];
let currentSentenceIndex = -1;
let currentLevelName = '';

const mainMenuDiv = document.getElementById('main-menu');
const readingScreenDiv = document.getElementById('reading-screen');
const levelInfoDiv = document.getElementById('level-info');
const currentSentenceP = document.getElementById('current-sentence');
const nextSentenceBtn = document.getElementById('next-sentence-btn');
const readAloudBtn = document.getElementById('read-aloud-btn');
const backToMenuBtn = document.getElementById('back-to-menu-btn');

// --- 3. ×¤×•× ×§×¦×™×•×ª ×œ×•×’×™×•×ª ---

function shuffleArray(array) {
    // ××¢×¨×‘×‘ ××ª ×¨×©×™××ª ×”××©×¤×˜×™×
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function showMainMenu() {
    // ××¦×™×’ ××ª ××¡×š ×‘×—×™×¨×ª ×”×¨××”
    mainMenuDiv.style.display = 'block';
    readingScreenDiv.style.display = 'none';
}

function startReading(levelName) {
    // ××ª×—×™×œ ××ª ×”×§×¨×™××” ×‘×¨××” ×”× ×‘×—×¨×ª
    currentLevelName = levelName;
    currentLevelSentences = [...SENTENCES[levelName]]; 
    shuffleArray(currentLevelSentences);
    currentSentenceIndex = -1;
    
    levelInfoDiv.textContent = `×¨××” × ×•×›×—×™×ª: ${currentLevelName}`;
    mainMenuDiv.style.display = 'none';
    readingScreenDiv.style.display = 'block';
    nextSentence();
}

function nextSentence() {
    // ×¢×•×‘×¨ ×œ××©×¤×˜ ×”×‘×
    currentSentenceIndex++;
    if (currentSentenceIndex < currentLevelSentences.length) {
        currentSentenceP.textContent = currentLevelSentences[currentSentenceIndex];
    } else {
        alert(`ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª ××ª ×›×œ ×”××©×¤×˜×™× ×‘'×¨××”: ${currentLevelName}'! ğŸ‰`);
        showMainMenu();
    }
}

function readAloud() {
    // ××¤×¢×™×œ ×§×¨×™××” ×§×•×œ×™×ª (Web Speech API)
    if ('speechSynthesis' in window) {
        const sentence = currentSentenceP.textContent;
        const utterance = new SpeechSynthesisUtterance(sentence);
        // ×× ×¡×” ×œ×”×’×“×™×¨ ×¢×‘×¨×™×ª
        utterance.lang = 'he-IL'; 
        speechSynthesis.speak(utterance);
    } else {
        alert("×”×“×¤×“×¤×Ÿ ×©×œ×š ×œ× ×ª×•××š ×‘×§×¨×™××ª ×˜×§×¡×˜ ××•×˜×•××˜×™×ª. × ×¡×” ×“×¤×“×¤×Ÿ ××—×¨ (×›×¨×•×/×¡×¤××¨×™).");
    }
}

// --- 4. ×¤×•× ×§×¦×™×™×ª ××ª×—×•×œ ---
function initializeApp() {
    const levelsContainer = mainMenuDiv;
    // ×™×¦×™×¨×ª ×›×¤×ª×•×¨ ×œ×›×œ ×¨××” ×‘××•×¤×Ÿ ×“×™× ××™
    Object.keys(SENTENCES).forEach(levelName => {
        const button = document.createElement('button');
        button.textContent = levelName;
        button.className = 'level-btn';
        button.onclick = () => startReading(levelName);
        levelsContainer.appendChild(button);
    });
    
    // ×”×’×“×¨×ª ×××–×™× ×™× ×œ××™×¨×•×¢×™× ×‘×›×¤×ª×•×¨×™×
    nextSentenceBtn.onclick = nextSentence;
    readAloudBtn.onclick = readAloud;
    backToMenuBtn.onclick = showMainMenu;

    showMainMenu();
}

window.onload = initializeApp;